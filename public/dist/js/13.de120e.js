(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{11:function(e,t){const n=e=>void 0===e,r=e=>Array.isArray(e),a=e=>e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice,s=(e,t,i,o)=>((t=t||{}).indices=!n(t.indices)&&t.indices,t.nullsAsUndefineds=!n(t.nullsAsUndefineds)&&t.nullsAsUndefineds,t.booleansAsIntegers=!n(t.booleansAsIntegers)&&t.booleansAsIntegers,t.allowEmptyArrays=!n(t.allowEmptyArrays)&&t.allowEmptyArrays,i=i||new FormData,n(e)||(null===e?t.nullsAsUndefineds||i.append(o,""):(e=>"boolean"==typeof e)(e)?t.booleansAsIntegers?i.append(o,e?1:0):i.append(o,e):r(e)?e.length?e.forEach((e,n)=>{const r=o+"["+(t.indices?n:"")+"]";s(e,t,i,r)}):t.allowEmptyArrays&&i.append(o+"[]",""):(e=>e instanceof Date)(e)?i.append(o,e.toISOString()):!(e=>e===Object(e))(e)||(e=>a(e)&&"string"==typeof e.name&&("object"==typeof e.lastModifiedDate||"number"==typeof e.lastModified))(e)||a(e)?i.append(o,e):Object.keys(e).forEach(n=>{const a=e[n];if(r(a))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);s(a,t,i,o?o+"["+n+"]":n)})),i);e.exports={serialize:s}},14:function(e,t,n){"use strict";var r={name:"ExperienceItem",props:{data:{type:Object,default:null},deletable:{type:Boolean,default:!1},index:{type:Number,default:null}},computed:{startDate:function(){return new Date(this.data.start_date).toLocaleString("en-US",{year:"numeric",month:"long"})},endDate:function(){return new Date(this.data.end_date).toLocaleString("en-US",{year:"numeric",month:"long"})}},methods:{deleteExperience:function(){this.$emit("click",this.index)}}},a=n(1),s=Object(a.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"experience-item"},[n("div",{staticClass:"flex-row"},[e._m(0),e._v(" "),n("div",{staticClass:"experience__desc ml-1"},[n("div",[n("div",{staticClass:"experience__heading"},[e._v("\n          "+e._s(e.data.project_name)+"\n        ")]),e._v(" "),n("div",{staticClass:"experience__job"},[e._v("\n          "+e._s(e.data.project_role)+"\n        ")])]),e._v(" "),n("div",{staticClass:"experience__date"},[e._v("\n        "+e._s(e.startDate)+" - "+e._s(e.endDate)+"\n      ")])])]),e._v(" "),e.deletable?n("button",{staticClass:"btn btn--decline experience-item__delete",on:{click:e.deleteExperience}},[n("Icon",{attrs:{icon:"whh:delete"}}),e._v(" "),n("span",[e._v("Delete")])],1):e._e()])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"experience__image--container"},[t("img",{attrs:{src:"https://via.placeholder.com/50",width:"50",height:"50",alt:""}})])}],!1,null,null,null);t.a=s.exports},56:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(4),i=n.n(s),o=n(31),c=n(2),l=n(14),u=n(11);function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){f(s,r,a,i,o,"next",e)}function o(e){f(s,r,a,i,o,"throw",e)}i(void 0)}))}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={name:"EditProfile2Page",components:{MonthPicker:o.a,ExperienceItem:l.a},metaInfo:function(){return{title:"Edit Profile Page 2"}},data:function(){return{show:!1,hide:!1,showEditSkill:!1,form:new i.a({user:{expertise:"",is_open_hired:"",skills:[],experiences:[]}}),form2:new i.a({file:null}),anotherSkills:"",anotherExperience:{name:"",role:"",startDate:{from:new Date("Fri May 01 1990 00:00:00")},endDate:{from:new Date("Fri May 01 2050 00:00:00")}}}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(c.b)({user:"auth/user",snackbar:"notification/snackbar"})),mounted:function(){this.getUser()},methods:{showSkills:function(){var e=this;return m(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.toggleOverlay();case 1:case"end":return t.stop()}}),t)})))()},getUser:function(){var e=this;return m(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.form.user.expertise=e.user.expertise,e.form.user.is_open_hired=e.user.is_open_hired,e.form.user.skills=e.user.skills,e.form.user.experiences=e.user.experiences;case 4:case"end":return t.stop()}}),t)})))()},saveProfile:function(e){var t=this;return m(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.form.user.experiences=t.form.user.experiences.map((function(e){return{project_name:e.project_name,project_role:e.project_role,start_date:new Date(e.start_date),end_date:new Date(e.end_date)}})),e.next=3,t.form.post("/api/user/saveprofile/2").then((function(e){var n=e.data;t.snackbar.open(n.message),t.$store.dispatch("auth/updateUser",{user:n.user})}));case 3:case"end":return e.stop()}}),e)})))()},toggleOverlay:function(){var e=this;return m(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.show?(e.show=!1,e.hide=!0):(e.show=!0,e.hide=!1),e.showEditSkill=!e.showEditSkill;case 2:case"end":return t.stop()}}),t)})))()},showAddSkill:function(){var e=this;return m(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.addSkillModal.openModal();case 1:case"end":return t.stop()}}),t)})))()},addSkill:function(){var e=this;return m(a.a.mark((function t(){var n,r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.form.user.skills.map((function(e){return e.name}))).push.apply(n,p(e.anotherSkills.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e})))),!((r=new Set(n)).size>20)){t.next=6;break}return e.snackbar.open("Can't add more than 20 skills"),t.abrupt("return");case 6:s=p(r).map((function(e){return{name:e}})),e.form.user.skills=s,e.$refs.addSkillModal.closeModal(),e.anotherSkills="";case 10:case"end":return t.stop()}}),t)})))()},deleteSkill:function(e){var t=this;return m(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.form.user.skills.filter((function(t){return t.name!==e})),t.form.user.skills=r;case 2:case"end":return n.stop()}}),n)})))()},showAddExperience:function(){var e=this;return m(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.addExperienceModal.openModal();case 1:case"end":return t.stop()}}),t)})))()},addExperience:function(){var e=this;return m(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={project_name:e.anotherExperience.name,project_role:e.anotherExperience.role,start_date:e.anotherExperience.startDate.from,end_date:e.anotherExperience.endDate.from},e.form.user.experiences.push(n),e.$refs.addExperienceModal.closeModal(),e.anotherExperience={name:"",role:"",startDate:{from:new Date("Fri May 01 1990 00:00:00")},endDate:{from:new Date("Fri May 01 2050 00:00:00")}};case 4:case"end":return t.stop()}}),t)})))()},deleteExperience:function(e){this.form.user.experiences.splice(e,1)},uploadCV:function(e){var t=this;return m(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.target.files[0],t.form2.file=r,t.form2.submit("post","/api/user/cv",{transformRequest:[function(e,t){return Object(u.serialize)(e)}]}).then((function(e){var n=e.data;t.$store.dispatch("auth/updateCV",{cv:n.cv}),t.snackbar.open(n.message)})).catch((function(e){t.snackbar.open(e.response.data.message)}));case 3:case"end":return n.stop()}}),n)})))()},deleteCV:function(e){var t=this;return m(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.form.submit("delete","/api/user/cv").then((function(e){var n=e.data;t.$store.dispatch("auth/updateCV",{cv:null}),t.snackbar.open(n.message)}));case 1:case"end":return e.stop()}}),e)})))()}}},x=n(1),b=Object(x.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{on:{submit:function(t){return t.preventDefault(),e.saveProfile.apply(null,arguments)},keydown:function(t){return e.form.onKeydown(t)}}},[n("div",{},[n("div",{staticClass:"form-group__container"},[n("h4",{staticClass:"form-group__input-name"},[e._v("\n          Expertise Role\n        ")]),e._v(" "),"Student"===e.user.role?[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.user.expertise,expression:"form.user.expertise"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form.user,"expertise",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"UI/UX Designer"}},[e._v("\n                UI/UX Designer\n              ")]),e._v(" "),n("option",{attrs:{value:"Frontend Engineer"}},[e._v("\n                Frontend Engineer\n              ")]),e._v(" "),n("option",{attrs:{value:"Backend Engineer"}},[e._v("\n                Backend Engineer\n              ")]),e._v(" "),n("option",{attrs:{value:"Data Expert"}},[e._v("\n                Data Expert\n              ")])]),e._v(" "),n("span",{staticClass:"focus"})])]:"Lecturer"===e.user.role?[n("div",{},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.expertise,expression:"form.user.expertise"}],staticClass:"form-group__input-text mb-0_5",attrs:{placeholder:"e.g., UI/UX Designer Specialist, Frontend Engineer Expert"},domProps:{value:e.form.user.expertise},on:{input:function(t){t.target.composing||e.$set(e.form.user,"expertise",t.target.value)}}})])]:e._e()],2),e._v(" "),n("div",{staticClass:"form-group__container"},[n("div",{staticClass:"flex-row space-between"},[n("h4",{staticClass:"form-group__input-name"},[e._v("\n            Skills\n          ")]),e._v(" "),n("div",{staticClass:"flex-row unselectable post__add-skill pointer",on:{click:e.showAddSkill}},[n("span",{staticClass:"iconify button__add-skill--icon mr-0_5",attrs:{"data-icon":"ic:round-add-circle"}}),e._v(" "),n("span",{staticClass:"button__add-skill--text"},[e._v("Add Skills")])])]),e._v(" "),n("div",{},[n("div",{staticClass:"form-group__input-select info__skill-container"},[n("p",{directives:[{name:"show",rawName:"v-show",value:0===e.form.user.skills.length,expression:"form.user.skills.length === 0"}],staticClass:"info__p"},[e._v("\n              Show your true skills to the world\n            ")]),e._v(" "),e._l(e.form.user.skills,(function(t){return n("BubbleSkill",{key:"skill-"+t.name,attrs:{color:"blue",name:t.name,deletable:!0},on:{click:e.deleteSkill}})}))],2),e._v(" "),n("Modal",{ref:"addSkillModal",attrs:{type:"small"},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",[n("h4",{staticClass:"post__modal--h4 my-0"},[e._v("\n                  Add Skills\n                ")])])]},proxy:!0},{key:"body",fn:function(){return[n("div",[n("hr",{staticClass:"my-0 mb-2_5"}),e._v(" "),n("div",[n("div",{},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.anotherSkills,expression:"anotherSkills"}],staticClass:"form-group__input-text mb-0_5",attrs:{placeholder:"e.g., Communication, Laravel, VueJS"},domProps:{value:e.anotherSkills},on:{input:function(t){t.target.composing||(e.anotherSkills=t.target.value)}}}),e._v(" "),n("p",{staticClass:"info__p"},[e._v("\n                      Add multiple Skills separated by comma ("),n("span",{staticClass:"iconify",attrs:{"data-icon":"mdi:comma",width:"12",height:"12"}}),e._v(")\n                    ")])])])])]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticClass:"btn btn--blue ml-auto",on:{click:e.addSkill}},[e._v("\n                Add Skills\n              ")])]},proxy:!0}])})],1)]),e._v(" "),n("hr",{staticClass:"form--hr"}),e._v(" "),n("h2",{staticClass:"social-media__heading"},[e._v("\n        Experience\n      ")]),e._v(" "),n("div",{staticClass:"form-group__container"},[e._m(0),e._v(" "),n("div",{},[n("div",{staticClass:"mb-1_5 experiences-list"},[n("p",{directives:[{name:"show",rawName:"v-show",value:0===e.form.user.experiences.length,expression:"form.user.experiences.length === 0"}],staticClass:"info__p"},[e._v("\n              Add your experiences here\n            ")]),e._v(" "),e._l(e.form.user.experiences,(function(t,r){return n("ExperienceItem",{key:"ExperienceItem-"+r,attrs:{data:t,index:r,deletable:!0},on:{click:e.deleteExperience}})}))],2),e._v(" "),n("div",{staticClass:"flex-center unselectable post__add-skill pointer",on:{click:e.showAddExperience}},[n("span",{staticClass:"iconify button__add-skill--icon mr-0_5",attrs:{"data-icon":"ic:round-add-circle"}}),e._v(" "),n("span",{staticClass:"button__add-skill--text"},[e._v("Add Experience")])]),e._v(" "),n("Modal",{ref:"addExperienceModal",attrs:{type:"small"},scopedSlots:e._u([{key:"header",fn:function(){return[n("h4",{staticClass:"post__modal--h4 my-0"},[e._v("\n                Add Experience\n              ")])]},proxy:!0},{key:"body",fn:function(){return[n("div",[n("hr",{staticClass:"my-0 mb-2_5"}),e._v(" "),n("div",{staticClass:"form-group__container"},[n("h4",{staticClass:"form-group__input-name post__h4"},[e._v("\n                    Project Name\n                  ")]),e._v(" "),n("div",{},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.anotherExperience.name,expression:"anotherExperience.name"}],staticClass:"form-group__input-text mb-0_5",attrs:{placeholder:"e.g., PHive Web Apps",required:""},domProps:{value:e.anotherExperience.name},on:{input:function(t){t.target.composing||e.$set(e.anotherExperience,"name",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"form-group__container"},[n("h4",{staticClass:"form-group__input-name post__h4"},[e._v("\n                    Role\n                  ")]),e._v(" "),n("div",{},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.anotherExperience.role,expression:"anotherExperience.role"}],staticClass:"form-group__input-text mb-0_5",attrs:{placeholder:"e.g., UI/UX Designer, Frontend Engineer",required:""},domProps:{value:e.anotherExperience.role},on:{input:function(t){t.target.composing||e.$set(e.anotherExperience,"role",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"form-group__container"},[n("h4",{staticClass:"form-group__input-name post__h4"},[e._v("\n                    Start Date\n                  ")]),e._v(" "),n("div",{},[n("month-picker",{style:{width:"100%"},attrs:{"no-default":!0,"max-date":e.anotherExperience.endDate.from},model:{value:e.anotherExperience.startDate,callback:function(t){e.$set(e.anotherExperience,"startDate",t)},expression:"anotherExperience.startDate"}})],1)]),e._v(" "),n("div",{staticClass:"form-group__container"},[n("h4",{staticClass:"form-group__input-name post__h4"},[e._v("\n                    End Date\n                  ")]),e._v(" "),n("div",{},[n("month-picker",{style:{width:"100%"},attrs:{"no-default":!0,"min-date":e.anotherExperience.startDate.from},model:{value:e.anotherExperience.endDate,callback:function(t){e.$set(e.anotherExperience,"endDate",t)},expression:"anotherExperience.endDate"}})],1)])])]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticClass:"btn btn--blue ml-auto",on:{click:e.addExperience}},[e._v("\n                Add Experience\n              ")])]},proxy:!0}])})],1)]),e._v(" "),"Student"===e.user.role?n("div",{staticClass:"edit__hire--container mt-3"},[n("span",{staticClass:"newcomer__hire--text"},[e._v("Are you open to be hired?")]),e._v(" "),n("div",{staticClass:"newcomer__hire--button-group"},[n("div",{staticClass:"open-hire"},[n("label",{staticClass:"open-hire__radio-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.is_open_hired,expression:"form.user.is_open_hired"}],staticClass:"hide-radio",attrs:{type:"radio"},domProps:{value:!0,checked:e._q(e.form.user.is_open_hired,!0)},on:{change:function(t){return e.$set(e.form.user,"is_open_hired",!0)}}}),e._v(" "),n("span",{staticClass:"open-hire__radio"},[e._v("Yes")])]),e._v(" "),n("label",{staticClass:"open-hire__radio-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.is_open_hired,expression:"form.user.is_open_hired"}],staticClass:"hide-radio",attrs:{type:"radio"},domProps:{value:!1,checked:e._q(e.form.user.is_open_hired,!1)},on:{change:function(t){return e.$set(e.form.user,"is_open_hired",!1)}}}),e._v(" "),n("span",{staticClass:"open-hire__radio"},[e._v("No")])])])])]):e._e(),e._v(" "),n("label",{staticClass:"edit__cv--container pointer"},[n("p",{staticClass:"edit__cv--heading"},[e._v("\n          Upload CV Document\n        ")]),e._v(" "),n("p",[e._v("File must be .pdf and the size must not more than 1MB ")]),e._v(" "),n("input",{staticClass:"form__input-file",attrs:{id:"form2.file",name:"form2.file",type:"file"},on:{change:e.uploadCV}}),e._v(" "),n("has-error",{attrs:{form:e.form2,field:"file"}})],1),e._v(" "),n("div",{staticClass:"mt-5 mb-1_5 edit-profile__buttons"},[n("router-link",{staticClass:"btn btn--grey ",attrs:{to:{name:"editprofile.page1"},tag:"button"}},[e._v("\n          Previous\n        ")]),e._v(" "),n("v-button",{staticClass:"btn btn--blue",attrs:{loading:e.form.busy}},[e._v("\n          Save Changes\n        ")])],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex-row space-between"},[t("h4",{staticClass:"form-group__input-name"},[this._v("\n            Experience\n          ")])])}],!1,null,null,null);t.default=b.exports}}]);