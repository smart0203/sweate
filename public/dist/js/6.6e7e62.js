(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{22:function(t,e,r){"use strict";r.r(e);var s=r(0),i=r.n(s),a=r(3),n=r.n(a),o=r(2);function c(t,e,r,s,i,a,n){try{var o=t[a](n),c=o.value}catch(t){return void r(t)}o.done?e(c):Promise.resolve(c).then(s,i)}function l(t){return function(){var e=this,r=arguments;return new Promise((function(s,i){var a=t.apply(e,r);function n(t){c(a,s,i,n,o,"next",t)}function o(t){c(a,s,i,n,o,"throw",t)}n(void 0)}))}}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={name:"ShortlistIndex",layout:"back",middleware:["auth","lecturer"],metaInfo:function(){return{title:"Applicant Shortlist"}},data:function(){return{applicantDetails:{isAccepted:!1},shortlistType:"Individual"}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)({user:"auth/user",snackbar:"notification/snackbar",project:"page/project",individuals:"page/shortlistIndividuals",teams:"page/shortlistTeams"})),mounted:function(){this.getShortlist(),"shortlist.team"===this.$route.name&&(this.shortlistType="Team")},methods:{getShortlist:function(){var t=this;return l(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("page/fetchShortlist",{project_url:t.$route.params.id});case 2:case"end":return e.stop()}}),e)})))()},acceptStudents:function(){var t=this;return l(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r={individuals:t.individuals.filter((function(t){return!0===t.isAccepted})),teams:t.teams.filter((function(t){return!0===t.isAccepted}))}).individuals.length||0!==r.teams.length){e.next=3;break}return e.abrupt("return",t.$router.push({name:"projectbox"}));case 3:return e.next=5,n.a.post("/api/project/"+t.$route.params.id+"/shortlist",{individuals:r.individuals,teams:r.teams}).then((function(e){var r=e.data;t.snackbar.open(r.message),t.$store.dispatch("notification/updateProjectBox",{projectBoxes:r.project_boxes}),t.$router.push({name:"projectbox"})}));case 5:case"end":return e.stop()}}),e)})))()},changeShortlist:function(){"Individual"===this.shortlistType?this.$router.push({name:"shortlist.individual"}):"Team"===this.shortlistType&&this.$router.push({name:"shortlist.team"})}}},h=r(1),v=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"shortlisted__container"},[r("div",{staticClass:"shorlisted-top__container"},[r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.project,expression:"project"}],staticClass:"shortlisted-top__image-container mt-2_5"},[r("div",{staticClass:"project-details--image shortlisted--image"},[r("img",{staticClass:"img",attrs:{src:t.project.thumbnail_url,alt:"Project Photo"}})])])]),t._v(" "),r("div",{staticClass:"shortlisted-top__left"},[r("h1",{staticClass:"shortlisted--h1  mb-1_5 text-outline--thin"},[t._v("\n        "+t._s(t.project?t.project.title:"")+"\n      ")]),t._v(" "),t.$matchMedia.xl?t._e():r("div",{staticClass:"separator-short mb-1"}),t._v(" "),r("h3",{staticClass:"shortlisted--h3 mt-3"},[t._v("\n        Shortlisted Student\n      ")])])]),t._v(" "),t.$matchMedia.xl?r("div",{staticClass:"separator-short"}):t._e(),t._v(" "),r("div",{staticClass:"mt-1_5 mb-1_5"},[r("div",{staticClass:"select select--small ml-auto"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.shortlistType,expression:"shortlistType"}],on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.shortlistType=e.target.multiple?r:r[0]},t.changeShortlist]}},[r("option",{attrs:{value:"Individual"}},[t._v("\n          Individual\n        ")]),t._v(" "),r("option",{attrs:{value:"Team"}},[t._v("\n          Team\n        ")])]),t._v(" "),r("span",{staticClass:"focus"})])]),t._v(" "),t.$matchMedia.xl?r("div",{staticClass:"separator-short mb-1"}):t._e(),t._v(" "),r("div",[r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view")],1)],1),t._v(" "),r("button",{staticClass:"btn btn--blue btn--large btn__small--xl mx-auto",on:{click:t.acceptStudents}},[t._v("\n    Proceed\n  ")])])}),[],!1,null,null,null);e.default=v.exports}}]);